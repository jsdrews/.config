# https://taskfile.dev

version: '3'

tasks:
  go:
    desc: installs go
    cmds:
      - scripts/install-go.sh
    env:
      BUILD_DIR: build
      INSTALL_DIR: "{{ .HOME }}/.local/bin"
      GO_VERSION: 1.23.1
      GO_PLATFORM_ARCH: darwin-arm64
    status:
      - command -v go

  goimports:
    desc: install goimports
    cmds:
      - go install golang.org/x/tools/cmd/goimports@latest
    env:
      GOBIN: "{{ .HOME }}/.local/bin"
    status:
      - command -v goimports

  python3.10:
    desc: install python
    cmds:
      - scripts/install-python.sh
    env:
      BUILD_DIR: build
      INSTALL_DIR: "{{ .HOME }}/.local"
      PYTHON_VERSION: 3.10.15
    preconditions:
      - command -v make
      - command -v clang
    status:
      - command -v python3.10

